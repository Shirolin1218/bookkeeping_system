import{_ as r}from"./_plugin-vue_export-helper-c27b6911.js";import{o,c as a,a as t,t as _,n as I,p as m,b as p,w as S,d as k,v as y,r as u,e as N,F as w,f as M,g as v,h as x}from"./index-9181ac48.js";const V={props:["name","price","isSelected"],data(){return{}},methods:{changeSelected(){this.$emit("changeSelected")}}},B={class:"name"};function O(e,s,i,h,c,n){return o(),a("div",{class:I(["item",{selected:i.isSelected}]),onClick:s[0]||(s[0]=(...d)=>n.changeSelected&&n.changeSelected(...d))},[t("div",B,_(i.name),1),t("div",{class:I(["price",{positive:i.price>0,negative:i.price<0,selected:i.isSelected}])},"$ "+_(Math.abs(i.price)),3)],2)}const W=r(V,[["render",O],["__scopeId","data-v-e5282f60"]]);const E={props:["account","balance"]},A=e=>(m("data-v-3f2de588"),e=e(),p(),e),J={class:"side"},F=A(()=>t("div",{class:"tital-area"},[t("h2",null,"這是一個side")],-1)),U={class:"account-area"},z={class:"balance-area"},K=A(()=>t("p",null,"你的餘額",-1));function T(e,s,i,h,c,n){return o(),a("div",J,[F,t("div",U,[t("h2",null,_(i.account),1)]),t("div",z,[K,t("h2",null,"$ "+_(i.balance),1)])])}const j=r(E,[["render",T],["__scopeId","data-v-3f2de588"]]);const q={props:["isAdd"],data(){return{name:"",price:null}},methods:{closeAdd(){this.$emit("addShow")},addItem(){if(this.name&&this.price){const e={name:this.name,price:this.price,isSlected:!1};this.name="",this.price=null,this.$emit("addShow",e)}else alert("請輸入項目")}}},f=e=>(m("data-v-bcde2937"),e=e(),p(),e),G=["addShow"],H=f(()=>t("div",{class:"bg"},null,-1)),P={class:"message-box"},Q={class:"input item-area"},R=f(()=>t("label",{for:"item"}," item ",-1)),X={class:"input price-area"},Y=f(()=>t("label",{for:"price"},"price",-1));function Z(e,s,i,h,c,n){return S((o(),a("div",{class:"add-item",addShow:i.isAdd},[H,t("div",P,[t("button",{type:"button",class:"btn close-btn",onClick:s[0]||(s[0]=(...d)=>n.closeAdd&&n.closeAdd(...d))},"✖"),t("div",Q,[R,S(t("input",{type:"text",id:"item","onUpdate:modelValue":s[1]||(s[1]=d=>c.name=d)},null,512),[[y,c.name]])]),t("div",X,[Y,S(t("input",{type:"number",id:"price","onUpdate:modelValue":s[2]||(s[2]=d=>c.price=d)},null,512),[[y,c.price]])]),t("button",{type:"button",onClick:s[3]||(s[3]=(...d)=>n.addItem&&n.addItem(...d))},"OK")])],8,G)),[[k,i.isAdd]])}const ee=r(q,[["render",Z],["__scopeId","data-v-bcde2937"]]);const te={data(){return{goDel:"go"}},methods:{close(){this.$emit("closeDel")},del(){this.$emit("closeDel",this.goDel)}}},$=e=>(m("data-v-fea68448"),e=e(),p(),e),se={class:"del-warning"},ne=$(()=>t("div",{class:"bg"},null,-1)),ie={class:"message-box"},ce=$(()=>t("div",{class:"title"},[t("h2",null,"Sure to delete the items?")],-1));function de(e,s,i,h,c,n){return o(),a("div",se,[ne,t("div",ie,[t("button",{type:"button",class:"btn close-btn",onClick:s[0]||(s[0]=(...d)=>n.close&&n.close(...d))},"✖"),ce,t("button",{type:"button",class:"btn del",onClick:s[1]||(s[1]=(...d)=>n.del&&n.del(...d))},"delete")])])}const oe=r(te,[["render",de],["__scopeId","data-v-fea68448"]]);const le={components:{Item:W,Side:j,AddItem:ee,DelWarning:oe},data(){return{account:"",balance:0,addShow:!1,delShow:!1,itemList:[],income:0,expend:0}},methods:{changeSelect(e){this.itemList[e].isSelected=!this.itemList[e].isSelected},openAdd(){this.addShow=!0},closeAdd(e){e&&(this.itemList.push(e),localStorage.setItem("itemList",JSON.stringify(this.itemList))),this.reloud()},delItem(){this.itemList=this.itemList.filter(e=>!e.isSelected),localStorage.setItem("itemList",JSON.stringify(this.itemList)),this.reloud()},reloud(){let e=0,s=0;this.itemList.forEach(i=>{this.balance+=i.price,i.price>=0?e+=i.price:s+=-i.price}),this.income=e,this.expend=s,this.balance=e-s,this.addShow=!1},changeDel(e){this.delShow=!this.delShow,e==="go"&&this.delItem()}},mounted(){this.account=localStorage.getItem("account"),localStorage.getItem("itemList")&&(this.itemList=JSON.parse(localStorage.getItem("itemList"))),this.itemList.forEach(e=>{this.balance+=e.price,e.price>=0?this.income+=e.price:this.expend+=-e.price})}},g=e=>(m("data-v-43a41337"),e=e(),p(),e),ae={class:"main"},_e={class:"container"},re=g(()=>t("h2",null,"這裡是Main",-1)),he={class:"area balance-area"},ue={class:"income"},me=g(()=>t("h2",null,"income",-1)),pe={class:"expend"},Se=g(()=>t("h2",null,"expend",-1)),ve={class:"area btn-area"},fe={class:"area item-area"};function ge(e,s,i,h,c,n){const d=u("Side"),L=u("Item"),D=u("AddItem"),C=u("DelWarning");return o(),a(w,null,[t("div",ae,[N(d,{account:c.account,balance:c.balance},null,8,["account","balance"]),t("div",_e,[re,t("div",he,[t("div",ue,[me,t("h3",null,"$ "+_(c.income),1)]),t("div",pe,[Se,t("h3",null,"$ "+_(c.expend),1)])]),t("div",ve,[t("button",{type:"button",onClick:s[0]||(s[0]=(...l)=>n.openAdd&&n.openAdd(...l)),class:"btn add"},"add"),t("button",{type:"button",onClick:s[1]||(s[1]=(...l)=>n.changeDel&&n.changeDel(...l)),class:"btn del"},"del")]),t("div",fe,[(o(!0),a(w,null,M(c.itemList,(l,b)=>(o(),v(L,{key:b,name:l.name,price:l.price,isSelected:l.isSelected,onChangeSelected:be=>n.changeSelect(b)},null,8,["name","price","isSelected","onChangeSelected"]))),128))])])]),c.addShow?(o(),v(D,{key:0,onAddShow:n.closeAdd,isAdd:c.addShow},null,8,["onAddShow","isAdd"])):x("",!0),c.delShow?(o(),v(C,{key:1,onCloseDel:n.changeDel},null,8,["onCloseDel"])):x("",!0)],64)}const we=r(le,[["render",ge],["__scopeId","data-v-43a41337"]]);export{we as default};
