import{_ as r}from"./_plugin-vue_export-helper-c27b6911.js";import{o,c as a,a as t,t as _,n as I,p as m,b as p,w as S,d as k,v as y,r as u,e as N,F as w,f as M,g as v,h as x}from"./index-a0422959.js";const V={props:["name","price","isSelected"],data(){return{}},methods:{changeSelected(){this.$emit("changeSelected")}}},B={class:"name"};function O(e,s,d,h,i,n){return o(),a("div",{class:I(["item",{selected:d.isSelected}]),onClick:s[0]||(s[0]=(...c)=>n.changeSelected&&n.changeSelected(...c))},[t("div",B,_(d.name),1),t("div",{class:I(["price",{positive:d.price>0,negative:d.price<0,selected:d.isSelected}])},"$ "+_(Math.abs(d.price)),3)],2)}const W=r(V,[["render",O],["__scopeId","data-v-e5282f60"]]);const E={props:["account","balance"]},A=e=>(m("data-v-3f2de588"),e=e(),p(),e),J={class:"side"},F=A(()=>t("div",{class:"tital-area"},[t("h2",null,"這是一個side")],-1)),U={class:"account-area"},z={class:"balance-area"},K=A(()=>t("p",null,"你的餘額",-1));function T(e,s,d,h,i,n){return o(),a("div",J,[F,t("div",U,[t("h2",null,_(d.account),1)]),t("div",z,[K,t("h2",null,"$ "+_(d.balance),1)])])}const j=r(E,[["render",T],["__scopeId","data-v-3f2de588"]]);const q={props:["isAdd"],data(){return{name:"",price:null}},methods:{closeAdd(){this.$emit("addShow")},addItem(){if(this.name&&this.price){const e={name:this.name,price:this.price,isSlected:!1};this.name="",this.price=null,this.$emit("addShow",e)}else alert("請輸入項目")}}},b=e=>(m("data-v-bcde2937"),e=e(),p(),e),G=["addShow"],H=b(()=>t("div",{class:"bg"},null,-1)),P={class:"message-box"},Q={class:"input item-area"},R=b(()=>t("label",{for:"item"}," item ",-1)),X={class:"input price-area"},Y=b(()=>t("label",{for:"price"},"price",-1));function Z(e,s,d,h,i,n){return S((o(),a("div",{class:"add-item",addShow:d.isAdd},[H,t("div",P,[t("button",{type:"button",class:"btn close-btn",onClick:s[0]||(s[0]=(...c)=>n.closeAdd&&n.closeAdd(...c))},"✖"),t("div",Q,[R,S(t("input",{type:"text",id:"item","onUpdate:modelValue":s[1]||(s[1]=c=>i.name=c)},null,512),[[y,i.name]])]),t("div",X,[Y,S(t("input",{type:"number",id:"price","onUpdate:modelValue":s[2]||(s[2]=c=>i.price=c)},null,512),[[y,i.price]])]),t("button",{type:"button",onClick:s[3]||(s[3]=(...c)=>n.addItem&&n.addItem(...c))},"OK")])],8,G)),[[k,d.isAdd]])}const ee=r(q,[["render",Z],["__scopeId","data-v-bcde2937"]]);const te={data(){return{goDel:"go"}},methods:{close(){this.$emit("closeDel")},del(){this.$emit("closeDel",this.goDel)}}},$=e=>(m("data-v-fea68448"),e=e(),p(),e),se={class:"del-warning"},ne=$(()=>t("div",{class:"bg"},null,-1)),de={class:"message-box"},ie=$(()=>t("div",{class:"title"},[t("h2",null,"Sure to delete the items?")],-1));function ce(e,s,d,h,i,n){return o(),a("div",se,[ne,t("div",de,[t("button",{type:"button",class:"btn close-btn",onClick:s[0]||(s[0]=(...c)=>n.close&&n.close(...c))},"✖"),ie,t("button",{type:"button",class:"btn del",onClick:s[1]||(s[1]=(...c)=>n.del&&n.del(...c))},"delete")])])}const oe=r(te,[["render",ce],["__scopeId","data-v-fea68448"]]);const le={components:{Item:W,Side:j,AddItem:ee,DelWarning:oe},data(){return{account:"",balance:0,addShow:!1,delShow:!1,itemList:[],income:0,expend:0}},methods:{changeSelect(e){this.itemList[e].isSelected=!this.itemList[e].isSelected},openAdd(){this.addShow=!0},closeAdd(e){e&&(this.itemList.push(e),localStorage.setItem("itemList",JSON.stringify(this.itemList))),this.reloud()},delItem(){this.itemList=this.itemList.filter(e=>!e.isSelected),localStorage.setItem("itemList",JSON.stringify(this.itemList)),this.reloud()},reloud(){let e=0,s=0;this.itemList.forEach(d=>{this.balance+=d.price,d.price>=0?e+=d.price:s+=-d.price}),this.income=e,this.expend=s,this.balance=e-s,this.addShow=!1},changeDel(e){this.delShow=!this.delShow,e==="go"&&this.delItem()}},mounted(){this.account=localStorage.getItem("account"),this.itemList=JSON.parse(localStorage.getItem("itemList")),this.itemList.forEach(e=>{this.balance+=e.price,e.price>=0?this.income+=e.price:this.expend+=-e.price})}},f=e=>(m("data-v-4de0a97b"),e=e(),p(),e),ae={class:"main"},_e={class:"container"},re=f(()=>t("h2",null,"這裡是Main",-1)),he={class:"area balance-area"},ue={class:"income"},me=f(()=>t("h2",null,"income",-1)),pe={class:"expend"},Se=f(()=>t("h2",null,"expend",-1)),ve={class:"area btn-area"},be={class:"area item-area"};function fe(e,s,d,h,i,n){const c=u("Side"),D=u("Item"),L=u("AddItem"),C=u("DelWarning");return o(),a(w,null,[t("div",ae,[N(c,{account:i.account,balance:i.balance},null,8,["account","balance"]),t("div",_e,[re,t("div",he,[t("div",ue,[me,t("h3",null,"$ "+_(i.income),1)]),t("div",pe,[Se,t("h3",null,"$ "+_(i.expend),1)])]),t("div",ve,[t("button",{type:"button",onClick:s[0]||(s[0]=(...l)=>n.openAdd&&n.openAdd(...l)),class:"btn add"},"add"),t("button",{type:"button",onClick:s[1]||(s[1]=(...l)=>n.changeDel&&n.changeDel(...l)),class:"btn del"},"del")]),t("div",be,[(o(!0),a(w,null,M(i.itemList,(l,g)=>(o(),v(D,{key:g,name:l.name,price:l.price,isSelected:l.isSelected,onChangeSelected:ge=>n.changeSelect(g)},null,8,["name","price","isSelected","onChangeSelected"]))),128))])])]),i.addShow?(o(),v(L,{key:0,onAddShow:n.closeAdd,isAdd:i.addShow},null,8,["onAddShow","isAdd"])):x("",!0),i.delShow?(o(),v(C,{key:1,onCloseDel:n.changeDel},null,8,["onCloseDel"])):x("",!0)],64)}const we=r(le,[["render",fe],["__scopeId","data-v-4de0a97b"]]);export{we as default};
